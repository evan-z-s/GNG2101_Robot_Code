<!DOCTYPE html>
<html>
  <head>
  <meta name="viewport" content="viewport-fit=cover, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="theme-color" content="rgba(27, 7, 250, 0.8)">
		<title> Robot App </title>
    	<style>
			@supports(padding: max(0px)){
				body,header,footer{
					padding-right: 	min(0vmin,env(safe-area-inset-right));
					padding-left: 	min(0vmin,env(safe-area-inset-left));
					padding-top: 	min(0vmin,env(safe-area-inset-top));
					padding-bottom: min(0vmin,env(safe-area-inset-bottom));
					min-height: -webkit-fill-available;
				}
			}

			@media screen and (orientation: portrait) {
				.noselect {
					-webkit-touch-callout: none; /* iOS Safari */
					-webkit-user-select: none; /* Safari */
					-khtml-user-select: none; /* Konqueror HTML */
					-moz-user-select: none; /* Firefox */
					-ms-user-select: none; /* Internet Explorer/Edge */
					user-select: none; /* Non-prefixed version, currently
										supported by Chrome and Opera */
					-webkit-user-drag: none;
					touch-action: none;

				}	
				.buttonLight{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 139px;
					top: 19px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
				}

				.buttonOpenClose{
					position: fixed;
					width: 280px;
					height: 80px;
					left: 74px;
					bottom: 356px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					content: "Open/Close";
				}

				.buttonLower{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 28px;
					bottom: 256px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
				}

				.buttonHigher{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 250px;
					bottom: 256px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
				}

				.buttonUp{
					position: fixed;
					width: 85px;
					height: 85px;
					left: 174px;
					bottom: 161px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.buttonLeft{
					position: fixed;
					width: 85px;
					height: 85px;
					left: 105px;
					bottom: 91px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.buttonRight{
					position: fixed;
					width: 85px;
					height: 85px;
					left: 242px;
					bottom: 91px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.buttonDown{
					position: fixed;
					width: 85px;
					height: 85px;
					left: 174px;
					bottom: 20px;
					box-sizing: border-box;
					background: rgba(27, 7, 250, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.container {
					position: relative;
					width: 100%;
				}

				.img{
					position: fixed;
					pointer-events: none;
					height:100%; 
					-webkit-touch-callout: none;
					width: 100%;
					top: 0px;
					order: -1;
					object-fit: cover;
					touch-action: none;
				}
			}
			
			@media screen and (orientation: landscape) {
				.noselect {
					-webkit-touch-callout: none; /* iOS Safari */
					-webkit-user-select: none; /* Safari */
					-khtml-user-select: none; /* Konqueror HTML */
					-moz-user-select: none; /* Firefox */
					-ms-user-select: none; /* Internet Explorer/Edge */
					user-select: none; /* Non-prefixed version, currently
										supported by Chrome and Opera */
					-webkit-user-drag: none;
					touch-action: none;


				}	
				.buttonLight{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 28px;
					bottom: 320px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
				}

				.buttonOpenClose{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 28px;
					bottom: 223px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					content: "Claw";
				}

				.buttonLower{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 28px;
					bottom: 28px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
				}

				.buttonHigher{
					position: fixed;
					width: 150px;
					height: 80px;
					left: 28px;
					bottom: 125px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
				}

				.buttonUp{
					position: fixed;
					width: 85px;
					height: 85px;
					right:  97px;
					bottom: 231px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.buttonLeft{
					position: fixed;
					width: 85px;
					height: 85px;
					right: 167px;
					bottom: 161px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.buttonRight{
					position: fixed;
					width: 85px;
					height: 85px;
					right: 28px;
					bottom: 161px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.buttonDown{
					position: fixed;
					width: 85px;
					height: 85px;
					right: 97px;
					bottom: 90px;
					box-sizing: border-box;
					background: rgba(250, 7, 7, 0.8);
					box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
					border-radius: 20px;
					opacity: 0.8;
					font-family: Verdana, sans-serif;
					font-style: normal;
					font-weight: 400;
					font-size: 40px;
					line-height: 77px;
					text-align: center;
					color: #000000;
					transform: rotate(-45deg);

				}

				.container {
					position: relative;
					width: 100%;
					padding-left: env(safe-area-inset-left);
					padding-right: env(safe-area-inset-right);
					padding-top: env(safe-area-inset-top);
					padding-bottom: env(safe-area-inset-bottom);


				}

				.img{
					position: fixed;
					pointer-events: none;
					height:100%; 
					-webkit-touch-callout: none;
					width: 100%;
					top: 0px;
					order: -1;
					object-fit: cover;
					touch-action: none;
				}
			}
    	</style>
	</head>

	<body style="overflow: hidden;margin:auto;padding-top: min(0vmin,env(safe-area-inset-top));
	">			
		<img class="img noselect" src="./scientific-lab-robotic-arm-pov-free-video.jpg" alt="RobotPhoto">
		<div class="container noselect">
			<div class="buttonLight" id="buttonLight" ontouchstart="buttonLight(false)">Light</div>
			<div class="buttonOpenClose" id="buttonOpenClose" ontouchstart="buttonOpenClose(false)"></div>
			<div class="buttonLower" id="buttonLower" ontouchstart="buttonLower(true)" ontouchend="buttonLower(false)">Lower</div>
			<div class="buttonHigher" id="buttonHigher" ontouchstart="buttonHigher(true)" ontouchend="buttonHigher(false)">Higher</div>
			<div class="buttonUp" id="buttonUp" ontouchstart="buttonUp(true)" ontouchend="buttonUp(false)"><img src="./Arrow.png" style="pointer-events: none; width: 60%;transform: rotate(45deg);margin-top: 21px;margin-left: 10px;user-select: none;"></div>
			<div class="buttonLeft" id="buttonLeft" ontouchstart="buttonLeft(true)" ontouchend="buttonLeft(false)"><img src="./Arrow.png" style="pointer-events: none; width: 60%;transform: rotate(-45deg);margin-top: 10px;margin-left: -4px;user-select: none;"></div>
			<div class="buttonRight" id="buttonRight" ontouchstart="buttonRight(true)" ontouchend="buttonRight(false)"><img src="./Arrow.png" style="pointer-events: none;width: 60%;transform: rotate(135deg);margin-top: 29px;margin-left: 8px;user-select: none;"></div>
			<div class="buttonDown" id="buttonDown" ontouchstart="buttonDown(true)" ontouchend="buttonDown(false)"><img src="./Arrow.png" style="pointer-events: none;width: 60%;transform: rotate(225deg);margin-top: 26px;margin-left: -2px;user-select: none;"></div>
		</div>

		<script>
			var portraitMode;			
			
			//Make text "Open/Close" if in Portrait mode. Make text "Claw" if in Landscape Mode.
			function changeOpenCloseNameText(){
				if(portraitMode == true){
					document.getElementById("buttonOpenClose").innerText = "Open/Close";
				}
				else if (portraitMode == false){
					document.getElementById("buttonOpenClose").innerText = "Claw";
				}
			}

			//When page is loaded, check orientation and adjust open/close text
			window.addEventListener("load", (event) => {
				portraitMode = window.matchMedia("(orientation: portrait)").matches;
				changeOpenCloseNameText();
				//Turn off all controls, and lights
			});

			//Change button colors when screen orientation changes
			screen.orientation.addEventListener("change", function(e) {
				portraitMode = !portraitMode;
				buttonLight(true);
				buttonOpenClose(true);
				buttonLower(false);
				buttonHigher(false);
				buttonUp(false);
				buttonLeft(false);
				buttonRight(false);
				buttonDown(false);
				changeOpenCloseNameText();
			});

			//Change color of button when it's turned on or off, or when we go from portait to landscape and vice versa.
			function changeColor(id,itemOn){
				var element = document.getElementById(id);
				if(portraitMode == true){
					if(itemOn == true){
						element.style.background = "#fa0707cc";
					}
					else{
						element.style.background = "#1b07facc";
					}
				}
				else{
					if(itemOn ==true){
						element.style.background = "#1b07facc";
					}
					else{
						element.style.background = "#fa0707cc";
					}
				}
			}

			var buttonLightOn = false;
			function buttonLight(onlyChangeColor) {
				if(onlyChangeColor == false){
					if(buttonLightOn == false){
						buttonLightOn = true;
						//Turn On Light
					}
					else{
						buttonLightOn = false;
						//Turn Off light
					}
				}
				changeColor("buttonLight", buttonLightOn);
			}

			var buttonOpenCloseOn = false;
			function buttonOpenClose(onlyChangeColor) {
				if(onlyChangeColor == false){
					if(buttonOpenCloseOn == false){
						buttonOpenCloseOn = true;
						//Do Close action
					}
					else{
						buttonOpenCloseOn = false;
						//Do Open action
					}
				}
				changeColor("buttonOpenClose", buttonOpenCloseOn);
			}

			var buttonLowerOn = false;
			function buttonLower(turnOn) {
				changeColor("buttonLower", turnOn);
				buttonLowerOn = turnOn;
				checkHigherLower("buttonLower", turnOn);
				//Do Lower action if turnOn == true
			}

			var buttonHigherOn = false;
			function buttonHigher(turnOn) {
				changeColor("buttonHigher", turnOn);
				buttonHigherOn = turnOn;
				checkHigherLower("buttonHigher", turnOn);
				//Do Higher action if turnOn == true
			}

			var buttonUpOn = false;
			function buttonUp(turnOn) {
				changeColor("buttonUp", turnOn);
				buttonUpOn = turnOn;
				checkDirectionPad("buttonUp", turnOn);
				//Do Up action if turnOn == true
			}

			var buttonLeftOn = false;
			function buttonLeft(turnOn) {
				changeColor("buttonLeft", turnOn);
				buttonLeftOn = turnOn;
				checkDirectionPad("buttonLeft", turnOn);
				//Do Left action if turnOn == true
			}

			var buttonRightOn = false;
			function buttonRight(turnOn) {
				changeColor("buttonRight", turnOn);
				buttonRightOn = turnOn;
				checkDirectionPad("buttonRight", turnOn);
				//Do Right action if turnOn == true
			}

			var buttonDownOn = false;
			function buttonDown(turnOn) {
				changeColor("buttonDown", turnOn);
				buttonDownOn = turnOn;
				checkDirectionPad("buttonDown", turnOn);
				//Do Down action if turnOn == true
			}

			//If a direction button is pressed, all other direction buttons are turned off
			function checkDirectionPad(id, turnOn){
				if(turnOn == true){
					if("buttonUp" != id && buttonUpOn == true){
						buttonUp(false);
					}
					if("buttonLeft" != id && buttonLeftOn == true){
						buttonLeft(false);
					}
					if("buttonRight" != id && buttonRightOn == true){
						buttonRight(false);
					}
					if("buttonDown" != id && buttonDownOn == true){
						buttonDown(false);
					}
				}
			}

			//If Higher is on, then Lower is pressed, Higher is turned off. Vice Versa for the Lower button.
			function checkHigherLower(id, turnOn){
				if(turnOn == true){
					if("buttonHigher" != id && buttonHigherOn == true){
						buttonHigher(false);
					}
					if("buttonLower" != id && buttonLowerOn == true){
						buttonLower(false);
					}
				}
			}

			//Function to prevent pinch zoom
			document.addEventListener('touchmove', function(event) {
				event = event.originalEvent || event;
				if(event.scale > 1) {
					event.preventDefault();
				}
  			}, false);

			//Function to prevent double click zoom zoom
			document.addEventListener('dblclick',function(event){
				event.preventDefault();}, {
				passive: false});

			/*
		 	var webSocketCameraUrl = "ws:\/\/" + window.location.hostname + "/Camera";
			var webSocketCarInputUrl = "ws:\/\/" + window.location.hostname + "/CarInput";      
			var websocketCamera;
			var websocketCarInput;
			
			function initCameraWebSocket() 
			{
				websocketCamera = new WebSocket(webSocketCameraUrl);
				websocketCamera.binaryType = 'blob';
				websocketCamera.onopen    = function(event){};
				websocketCamera.onclose   = function(event){setTimeout(initCameraWebSocket, 2000);};
				websocketCamera.onmessage = function(event)
				{
				var imageId = document.getElementById("cameraImage");
				imageId.src = URL.createObjectURL(event.data);
				};
			}
			
			function initCarInputWebSocket() 
			{
				websocketCarInput = new WebSocket(webSocketCarInputUrl);
				websocketCarInput.onopen    = function(event)
				{
				sendButtonInput("Speed", document.getElementById("Speed").value);
				sendButtonInput("Light", document.getElementById("Light").value);
				sendButtonInput("Pan", document.getElementById("Pan").value);
				sendButtonInput("Tilt", document.getElementById("Tilt").value);                    
				};
				websocketCarInput.onclose   = function(event){setTimeout(initCarInputWebSocket, 2000);};
				websocketCarInput.onmessage = function(event){};        
			}
			
			function initWebSocket() 
			{
				initCameraWebSocket ();
				initCarInputWebSocket();
			}
			function sendButtonInput(key, value) 
			{
				var data = key + "," + value;
				websocketCarInput.send(data);
			}
			
			window.onload = initWebSocket;
			document.getElementById("mainTable").addEventListener("touchend", function(event){
				event.preventDefault()
			});      
			*/
		</script>
	</body>    
</html>
